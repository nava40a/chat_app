# CHAT-APP


## Описание проекта
Это чат-приложение позволяет пользователям общаться в реальном времени через веб-интерфейс. Приложение поддерживает регистрацию и авторизацию пользователей, обмен сообщениями, а также отображение статуса пользователя (онлайн/офлайн).

### Основные возможности:
- Регистрация и авторизация пользователей с уникальными именами и никами Telegram.
- Обмен сообщениями и отображение статуса пользователя в реальном времени.
- Хранение сообщений для отключенных пользователей.
- Уведомления о новых сообщениях.
- Интеграция с Telegram-ботом для отправки пользователям, полписанным на бота, уведомлений о наличии непрочитанных сообщений, если пользователь не в сети на момент отправки сообщения.


## Запуск проекта
1. Клонируйте репозиторий ```https://github.com/nava40a/chat_app```
2. Перейдите в директорию с проектом ```cd chat_app```
3. Создайте файл ```.env``` и скопируйте в него содержимое файла ```env.example```
4. Запустите контейнеры командой ```docker-compose up --build```
5. Проект доступен по адресу ```http://localhost:81/```


## Функциональность

### Регистрация и авторизация
- При переходе по адресу ```http://localhost:81/``` вы попадаете на страницу регистрации и входа в приложение.
- Зарегистрируйтесь, указав свой юзернейм и ник в Телеграм (без символа @). Если ник или юзернейм уже заняты, система предложит указать другие.

### Основной функционал чата
- Список пользователей. После регистрации/авторизации вы увидите список зарегистрированных пользователей, кроме текущего.
- Статус пользователя. Обновляется в реальном времени. Онлайн - если пользователь в сети.
- Если вам пришло сообщение, вы увидите оповещение рядом с именем пользователя.
- Чтобы начать общение, нажмите на имя собеседника. Вы перейдете в чат. Сообщения передаются через WebSocket в реальном времени и сохраняются для отключенных пользователей. Сохраненные сообщения доставляются пользователю при следующем подключении.
- В чате вы видите сообщения, доставленные в текущей сессии. Также вы можете просмотреть историю сообщений, нажав на кнопку.

### Подписка на Телеграм бота
- После регистрации/авторизации вы можете подписаться на бота для получения уведомлений о новых сообщениях.
- Кнопка для перехода к боту доступна на странице со списком пользователей.
- Уведомления в боте приходят, если на момент доставки сообщения вы были не в сети.
 
### Отключение и выход
- При выходе из приложения Websocket-соединение разрывается.
- При отключении пользователя статус пользователя становится оффлайн (статус оффлайн не отображается).
 

## Стек технологий
- Frontend: React, WebSocket
- Backend: FastApi, Redis, Alembic, Pydantic, SqlAlchemy, Websockets, Thread, NGINX
- База данных: PostgreSQL
- Контейнеризация: Docker, Docker Compose
- Телеграм-бот: Aiogram, Celery, Redis
